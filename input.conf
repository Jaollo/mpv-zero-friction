# ==========================================================
# mpv.net "Zero-Friction Right-Side v2" Workstation
# ==========================================================

# --- 1. THE CORE ENGINE (Arrows) ---
# Left/Right for precise frame-by-frame scrubbing
LEFT       frame-back-step
RIGHT      frame-step

# Mouse 4 and Mouse 5 (Side buttons) mapped for one-handed continuous frame scrubbing
MBTN_BACK  script-binding mouse-back-repeat
MBTN_FORWARD script-binding mouse-forward-repeat

# Down/Up to smoothly slide video speed (hold them down for gradual adjustment)
DOWN       add speed -0.05
UP         add speed  0.05

# --- 2. PAUSE (Right Ctrl) ---
# Right Shift doesn't map well in Windows, so we use Right Ctrl instead!
RCTRL      cycle pause
-          cycle pause   # The minus key is also a pause button as a backup

# --- 3. RAPID SEEKS (Back & Forth) ---
# Comma (,) and Period (.) for lightning-fast, exact 2-second scrubs
,          seek -2 exact
.          seek  2 exact

# --- 4. ZOOMING (Mouse Wheel Scroll) ---
# Scroll the mouse wheel up and down to zoom in and out
# (Using 'no-osd' and 0.05 increments for buttery-smooth scaling without text flicker)
WHEEL_UP             no-osd add video-zoom  0.05
WHEEL_DOWN           no-osd add video-zoom -0.05
MBTN_LEFT+WHEEL_UP   no-osd add video-zoom  0.05
MBTN_LEFT+WHEEL_DOWN no-osd add video-zoom -0.05
z          no-osd add video-zoom  0.05
x          no-osd add video-zoom -0.05

Shift+LEFT set video-zoom 0 ; set video-pan-x 0 ; set video-pan-y 0



# --- 5. LOOPING (The "M" Key) ---
# m (lowercase) triggers the A-B Loop (Press once for start, again for end, again to clear)
m          ab-loop

# Shift + m (uppercase M) toggles infinite constant loop of the entire video file
M          cycle loop-file

# --- 6. SMART ASPECT RATIO CROP ---
# Quote key (') uses a video filter to physically CROP the sides dynamically into a 9:16 vertical slice, instead of squeezing it!
'          vf toggle lavfi=[crop=ih*(9/16):ih]
 
# --- 7. SPATIAL NAVIGATION ---
# MBTN_LEFT routes to drag-to-pan.lua via script-binding (Tier 1).
# Keeping it in input.conf preserves MBTN_LEFT+WHEEL combo detection for zooming.
# OSC's forced binding group (Tier 3) still overrides inside the ghost bar for seeking.
MBTN_LEFT      script-binding drag-to-pan
MBTN_RIGHT     script-binding double-right-quit

# --- 8. MUTE ---
p          no-osd cycle mute
